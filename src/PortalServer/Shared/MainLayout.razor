@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider


<MudLayout>
    <MudAppBar Elevation="1" Style="@($"Background:{Colors.Blue.Darken4};")">
        <img src="~/logoEPF.png" />
        <MudText Typo="Typo.h5" Class="ml-0">Portale EPF</MudText>
        <AuthorizeView>
            <Authorized>
                <MudButton Class="btn-link btn" OnClick="Logout" Style="color:white; font-size:15px; font-family:Marlett; position:absolute; right:10px">Logout</MudButton>
            </Authorized>
        </AuthorizeView>
    </MudAppBar>
    <MudMainContent Style="height:100vh; width:100%;">
        @Body

    </MudMainContent>
</MudLayout>


<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

@code{
    private void NavigationNotAuth()
    {
        NavigationManager.NavigateTo("/");
    }
    private void NavigationAuth()
    {
        NavigationManager.NavigateTo("/clients/");
    }

    public async Task Logout()
    {
        await ((CustomAuthenticationStateProvider)AuthenticationStateProvider).LogoutUserFromAuthentication();

        StateHasChanged();
    }
}

